I"›<h3 id="ç€è‰²æ¨¡å‹">ç€è‰²æ¨¡å‹</h3>

<ul>
  <li>
    <p>flat shading model</p>

    <p>å¯¹æ¯ä¸ªä¸‰è§’é¢è®¡ç®—å…‰ç…§</p>
  </li>
  <li>
    <p>gouraud shading model(1971)</p>

    <p>è®¡ç®—ä¸‰è§’å½¢ä¸‰ä¸ªé¡¶ç‚¹å…‰ç…§ï¼Œæ’å€¼é¢œè‰²(per-pixel)</p>
  </li>
  <li>
    <p>phong shading model(1975)</p>

    <p>æ’å€¼ä¸‰è§’å½¢ä¸‰ä¸ªé¡¶ç‚¹çš„normal(per-pixel)ï¼Œè®¡ç®—å…‰ç…§</p>
  </li>
</ul>

<hr />

<h3 id="ä¼ ç»Ÿçš„å…‰ç…§æ¨¡å‹">ä¼ ç»Ÿçš„å…‰ç…§æ¨¡å‹</h3>

<p>ä¸‹é¢åˆ—ä¸¾çš„æ¨¡å‹ä»…ä»…å› ä¸ºå®ƒä»¬æ¨¡å‹ç®€å•ï¼Œæ•ˆæœç”šä½³è€Œåœ¨å®æ—¶æ¸²æŸ“ä¸­è¢«å¹¿æ³›åº”ç”¨ï¼ˆå®é™…ä¸Šå¤§å®¶éƒ½åœ¨è¿½æ±‚åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼‰</p>

<ul>
  <li>
    <p>lambertian lighting model
   \(\\I=ka+kdÂ·dot(n,l)\)</p>
  </li>
  <li>
    <p>phong lighting model(1975)</p>

    <p>åŠ äº†æŒ‡æ•°å½¢å¼çš„specularé¡¹
   \(I=ka+kdÂ·dot(n,l)+ksÂ·dot(reflect,v)^N\\ 
   reflect=2(normalÂ·lightdir)Â·normalâˆ’ligtdir\)</p>

    <p><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/Phong_components_version_4.png" alt="" /></p>
  </li>
  <li>
    <p>Blinnâ€“Phong(1977)
  <!-- ç”±Torrance and Sparrow 1967å¹´çš„æ–‡ç« å¯å‘ï¼Œ -->
  specularéƒ¨åˆ†ç”¨\(dot(\frac{viewdir+lightdir}{2},normal)\)ä»£æ›¿ï¼Œå‡å°‘è®¡ç®—é‡</p>

    <p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Blinn_phong_comparison.png/600px-Blinn_phong_comparison.png" alt="" /></p>
  </li>
  <li>
    <p>Orenâ€“Nayaræ¨¡å‹
ï¼ˆRough opaque diffuse surfacesï¼Œäº§ç”Ÿæ¯”lambertianæ›´ç²—ç³™çš„æ¼«åå°„ï¼‰</p>
  </li>
  <li>
    <p>Minnaertæ¨¡å‹ 
  åœ¨lambertianæ¨¡å‹ä¸ŠåŠ äº†darkening factorï¼Œçœ‹èµ·æ¥æ›´æš—</p>
  </li>
</ul>

<blockquote>
  <p>æ³¨ï¼šå¦‚æœæœ‰çœ‹è¿‡åŸè®ºæ–‡çš„è¯ï¼Œä¼šå‘ç°æœ‰å¾ˆå¤šé—®é¢˜ï¼Œåƒæ·±åº¦å‰”é™¤ï¼Œç€è‰²ï¼Œå…‰ç…§æ¨¡å‹è¿™äº›å¾€å¾€åœ¨ä¸€ç¯‡è®ºæ–‡ä¸­éƒ½ä¼šæ¶‰åŠ</p>
</blockquote>

<hr />

<h3 id="physically-based-shading">physically based shading</h3>

<p>ä¼ ç»Ÿçš„å…‰ç…§æ¨¡å‹æœ‰å¾ˆå¤šå±€é™æ€§ï¼Œå¾ˆå¤šæè´¨æ— æ³•è¡¨ç¤ºï¼Œå¦‚ä»Šä¸ç®¡æ˜¯åœ¨å®æ—¶æ¸²æŸ“è¿˜æ˜¯ç¦»çº¿æ¸²æŸ“æ‰€ä½¿ç”¨çš„æ˜¯åŸºäºç‰©ç†çš„ç€è‰²æ¨¡å‹ï¼Œä»¥ç²¾ç¡®æè¿°æè´¨å’Œå…‰çš„ä¼ è¾“è¿‡ç¨‹ä¸­èƒ½é‡å˜åŒ–</p>

<p><strong>è¾å°„åº¦é‡å­¦</strong></p>

<p>åè¯è§£é‡Š</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th style="text-align: left">terms</th>
      <th style="text-align: center">description</th>
      <th style="text-align: center">ç¬¦å·</th>
      <th style="text-align: center">è®¡ç®—æ–¹å¼</th>
      <th style="text-align: right">å•ä½</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Radiant Energy</td>
      <td style="text-align: center">total energy</td>
      <td style="text-align: center">\(Q\)</td>
      <td style="text-align: center">Â </td>
      <td style="text-align: right">\(J\)</td>
    </tr>
    <tr>
      <td style="text-align: left">Radiant Flux</td>
      <td style="text-align: center">the energy per unit time</td>
      <td style="text-align: center">\(\Phi\)</td>
      <td style="text-align: center">\(\Phi=\frac{dQ}{dt}\)</td>
      <td style="text-align: right">\(W\)</td>
    </tr>
    <tr>
      <td style="text-align: left">Radiant Intensity</td>
      <td style="text-align: center">the energy per unit solid angle</td>
      <td style="text-align: center">\(I\)</td>
      <td style="text-align: center">\(I=\frac{d\Phi}{d\omega}\),\(d\omega=dA*r^2\)</td>
      <td style="text-align: right">\(W/sr\)</td>
    </tr>
    <tr>
      <td style="text-align: left">Irradiance</td>
      <td style="text-align: center">the energy per (perpendicular/projected) unit area incident on a surface point.</td>
      <td style="text-align: center">\(E\)</td>
      <td style="text-align: center">\(E(p) =\frac {d\Phi(p)}{dA}\)</td>
      <td style="text-align: right">\(W/m^2\)</td>
    </tr>
    <tr>
      <td style="text-align: left">Radiance</td>
      <td style="text-align: center">energy per unit solid angle per projected unit area</td>
      <td style="text-align: center">\(L\)</td>
      <td style="text-align: center">\(L(p,\omega)=\frac{d^2\Phi(p,\omega)}{d\omega dA\cos\theta}\)</td>
      <td style="text-align: right">\(W/m^2sr\)</td>
    </tr>
  </tbody>
</table>

<p>æˆ‘ä»¬åœ¨æ¸²æŸ“ä¸­è®¡ç®—çš„é‡æ˜¯æŸä¸ªç‚¹xæ²¿dæ–¹å‘çš„radiance</p>

<p>iradianceå’Œradianceçš„è½¬æ¢å…³ç³»
\(L(p,\omega)=\frac{dE(p)}{d\omega\\cos\theta}\\ 
E(p)=\int_{\omega\in\Omega} L(p,\omega)\cos\theta d\omega\)</p>

<!-- ### microgeometry theory

ä¸æ˜¯åœ¨å»ºæ¨¡æ—¶å°†æ¨¡å‹å»ºæˆå¾®è¡¨é¢
è§†ä¸€ä¸ªç‚¹çš„è¡¨é¢æ³•çº¿æ–¹å‘ä¸å”¯ä¸€ï¼Œå‘ˆéšæœºæ­£æ€åˆ†å¸ƒ -->

<hr />

<h3 id="reflectance-equation">reflectance equation</h3>

<p>ç€è‰²çš„è®¡ç®—é‡\(L_i(c,-v)\)ï¼Œcæ˜¯ç›¸æœºä½ç½®ï¼Œ-væ˜¯å…‰çº¿æ–¹å‘</p>

<p>ä¸è€ƒè™‘paticipating mediaï¼Œç›¸æœºæ¥å—çš„\(L_i\)å°±æ˜¯æœ€è¿‘ç‚¹çš„\(L_o\)ï¼Œ\(L_i(c,-v)=L_o(p,v)\)</p>

<p>radiance=ç‰©ä½“è¡¨é¢å‘å‡ºçš„å…‰+åå°„çš„å…¶ä»–å…‰çº¿</p>

<p>\(L_o(p,v)\) åªç”±å…¥å°„å…‰çº¿\(l\)ï¼Œå‡ºå°„å…‰çº¿\(v\)å’Œæè´¨å†³å®šï¼Œbrdfå‡½æ•°ï¼ˆBidirectional Reflectance Distribution Functionï¼‰\(f(l,v)\)å®šä¹‰äº†å…‰çº¿å¦‚ä½•ä½œç”¨äºæè´¨</p>

<p><strong>reflectance equation</strong>
\(\\ L_o(p,v)=\int_{l\in\Omega}f(l,v)L_i(p,l)(nÂ·l)dl\)</p>

<p>ç°åœ¨çœ‹ç›¸æœºcæ²¿-væ–¹å‘çš„radiance=è·ç¦»cæœ€è¿‘ç‚¹çš„ï¼ŒæŸä¸ªç‚¹çš„radiance=å•ä½åŠçƒé¢ä¸Šå…¶ä»–æ–¹å‘å…¥å°„å…‰çš„ projected radiance*brdfå‡½æ•°çš„å’Œ</p>

<p>ç®€æ´èµ·è§ï¼Œçœç•¥p
\(\\L_o(v)=\int_{l\in\Omega}f(l,v)L_i(l)(nÂ·l)dl\)</p>

<p><strong>è½¬æ¢æˆçƒé¢ç§¯åˆ†</strong></p>

<p>ç”¨\(\theta\),\(\phi\)è¡¨ç¤ºæ–¹å‘\(l\)
\(\\ dl=\sin\theta d\theta d\phi\\ 
nÂ·l=\cos\theta\\ 
L_o(\theta_o,\phi_o)=\int_{\phi_i=0}^{2\pi}\int_{\theta_i=0}^{\frac{\pi}{2}}f(\theta_i,\phi_i,\theta_o,\phi_o)\cos\theta_i\sin\theta_i d\theta_i d\phi_i\)</p>

<p><strong>ç‰©ç†æ€§å¯¹brdfçš„çº¦æŸ</strong></p>

<ol>
  <li>
    <p>Helmholtz reciprocity principle
 \(\\f(l,v)=f(v,l)\)</p>
  </li>
  <li>
    <p>conservation of energy
 \(\\âˆ€l,\int_{â„¦}f(l,v)(nÂ·v) dÏ‰_0 â‰¤ 1\)
èƒ½é‡å®ˆæ’ï¼Œåå°„å…‰èƒ½é‡ä¸èƒ½å¤§äºå…¥å°„å…‰</p>
  </li>
</ol>

<p>ç²¾ç¡®çš„Helmholtz reciprocityå’Œèƒ½é‡è½¬æ¢å¯¹äºå®æ—¶æ¸²æŸ“ç®—æ³•ä¸æ˜¯å¿…é¡»çš„</p>

<p>ä¸‹ä¸€ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¸¸ç”¨çš„brdfæ¨¡å‹</p>

<hr />

<h3 id="reference">Reference</h3>

<p>ã€ŠReal-Time Rendering, 4th Editionã€‹
<a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/phong-shader-BRDF">https://www.scratchapixel.com/lessons/3d-basic-rendering/phong-shader-BRDF</a></p>

<p><a href="https://en.wikipedia.org/wiki/List_of_common_shading_algorithms">https://en.wikipedia.org/wiki/List_of_common_shading_algorithms</a>
<a href="https://en.wikipedia.org/wiki/Phong_reflection_model">https://en.wikipedia.org/wiki/Phong_reflection_model</a></p>

<!-- [flat shading](https://www.cs.drexel.edu/~david/Classes/Papers/p443-newell.pdf)
[phong shading ](http://www.cs.northwestern.edu/~ago820/cs395/Papers/Phong_1975.pdf)
[gouraud shading](https://ieeexplore.ieee.org/abstract/document/1671906) -->

<!-- [](http://blog.sina.com.cn/s/blog_415a66f001018bud.html)

[](http://web.cs.wpi.edu/~emmanuel/courses/cs563/S05/projects/surface_reflection_losasso.pdf) -->

:ET