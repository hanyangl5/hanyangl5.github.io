I"b<h1 id="输出图片">输出图片</h1>

<p>原文中使用的图片是ppm格式，而大多数电脑中不支持ppm格式的读取，因此我使用了一个开源库svpng，可以将rgb颜色信息直接保存到png文件中</p>

<p>项目地址: <a href="https://github.com/miloyip/svpng">svpng</a></p>

<p>将颜色信息写入png文件的的C++代码如下</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include "svpng.inc"

int main() {

    int nx=200,ny=150;// width &amp; height
    unsigned char rgb[nx * ny * 3], *p = rgb;
    FILE *fp = fopen("test.png", "wb");
    for (int j = ny-1; j &gt;= 0; j--)
        for (int i = 0; i &lt; nx; i++) {
            float r = float(i) / float(nx);
            float g = float(j) / float(ny);
            float b = 0.2;
            *p++ = int(255.99*r);    /* R */
            *p++ = int(255.99*g);    /* G */
            *p++ = int(255.99*b);    /* B */
        }
    svpng(fp, nx, ny, rgb, 0);
    fclose(fp);
    return 0;
}
</code></pre></div></div>

<p>渲染出的图片如下</p>

<p><img src="https://pic.downk.cc/item/5e21457f2fb38b8c3c30944c.png" alt="" /></p>

<p>图片中像素从左到右，从上到下输出</p>

<p>可以看出，从左到右，红色通道的值越来越大，图像越来越红，从上到下，绿色通道的值越来越大，图像越来越绿</p>
:ET